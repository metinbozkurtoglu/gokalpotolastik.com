---
import { siteConfig } from '../data/siteConfig';

interface BreadcrumbItem {
  name: string;
  url: string;
}

interface Props {
  title: string;
  subtitle?: string;
  badge?: string;
  breadcrumbs?: BreadcrumbItem[];
  showCTA?: boolean;
  ctaText?: string;
  ctaLink?: string;
  size?: 'default' | 'large';
}

const {
  title,
  subtitle,
  badge,
  breadcrumbs = [],
  showCTA = false,
  ctaText = 'Hemen Arayın',
  ctaLink = `tel:${siteConfig.phone}`,
  size = 'default'
} = Astro.props;
---

<section class={`page-header relative overflow-hidden ${size === 'large' ? 'page-header--large' : ''}`}>
  <!-- Video Background -->
  <div class="absolute inset-0">
    <video
      autoplay
      muted
      loop
      playsinline
      poster="/images/hero-poster.webp"
      preload="metadata"
      class="w-full h-full object-cover scale-110"
    >
      <source src="/videos/hero-video.mp4" type="video/mp4" />
    </video>
    <!-- Overlay -->
    <div class="absolute inset-0 bg-gradient-to-r from-gray-900/95 via-gray-900/85 to-gray-900/70"></div>
    <div class="absolute inset-0 bg-gradient-to-t from-gray-900/60 to-transparent"></div>
  </div>

  <!-- Decorative Elements -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none">
    <div class="absolute top-1/4 -left-20 w-64 h-64 bg-primary/10 rounded-full blur-3xl"></div>
    <div class="absolute bottom-1/4 -right-20 w-48 h-48 bg-primary/10 rounded-full blur-3xl"></div>
    <!-- Grid pattern -->
    <div class="absolute inset-0 opacity-[0.03]" style="background-image: linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px); background-size: 60px 60px;"></div>
  </div>

  <!-- Content -->
  <div class="relative container-custom py-16 lg:py-24">
    
    <!-- Breadcrumb -->
    {breadcrumbs.length > 0 && (
      <nav class="mb-8 reveal" aria-label="Breadcrumb">
        <ol class="flex items-center gap-2 text-sm">
          {breadcrumbs.map((item, index) => (
            <>
              {index > 0 && (
                <li class="text-white/40">
                  <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                  </svg>
                </li>
              )}
              <li>
                {index === breadcrumbs.length - 1 ? (
                  <span class="text-white/60">{item.name}</span>
                ) : (
                  <a href={item.url} class="text-white/80 hover:text-primary transition-colors">{item.name}</a>
                )}
              </li>
            </>
          ))}
        </ol>
      </nav>
    )}

    <div class="max-w-3xl">
      <!-- Badge -->
      {badge && (
        <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/20 border border-primary/30 text-primary text-sm font-semibold mb-6 reveal reveal-delay-1">
          <span class="w-2 h-2 bg-primary rounded-full animate-pulse"></span>
          {badge}
        </div>
      )}

      <!-- Title -->
      <h1 class="text-3xl sm:text-4xl lg:text-5xl xl:text-6xl font-bold text-white leading-[1.1] mb-6 reveal reveal-delay-2">
        {title}
      </h1>

      <!-- Subtitle -->
      {subtitle && (
        <p class="text-white/80 text-lg lg:text-xl max-w-2xl leading-relaxed mb-8 reveal reveal-delay-3">
          {subtitle}
        </p>
      )}

      <!-- CTA Button -->
      {showCTA && (
        <div class="flex flex-wrap items-center gap-4 reveal reveal-delay-4">
          <a 
            href={ctaLink} 
            class="inline-flex items-center gap-2 bg-primary hover:bg-primary-hover text-white font-bold px-7 py-4 rounded-xl transition-all shadow-lg shadow-primary/25"
          >
            <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
            </svg>
            {ctaText}
          </a>
          <div class="flex items-center gap-3 text-white/60">
            <span class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></span>
            <span class="text-sm">Her Gün Açık</span>
          </div>
        </div>
      )}
    </div>

    <!-- Stats Row -->
    <div class="mt-12 pt-8 border-t border-white/10 reveal reveal-delay-4">
      <div class="flex flex-wrap items-center gap-8 lg:gap-12">
        <div class="flex items-center gap-3">
          <div class="w-12 h-12 rounded-xl bg-white/10 flex items-center justify-center">
            <svg class="w-6 h-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>
          <div>
            <span class="block text-white font-bold">Hankook</span>
            <span class="text-white/70 text-sm">Yetkili Bayi</span>
          </div>
        </div>
        <div class="flex items-center gap-3">
          <div class="w-12 h-12 rounded-xl bg-white/10 flex items-center justify-center">
            <svg class="w-6 h-6 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
          </div>
          <div>
            <span class="block text-white font-bold">Bosch</span>
            <span class="text-white/70 text-sm">Akü Bayii</span>
          </div>
        </div>
        <div class="flex items-center gap-3">
          <div class="w-12 h-12 rounded-xl bg-white/10 flex items-center justify-center">
            <svg class="w-6 h-6 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>
          <div>
            <span class="block text-white font-bold">7/7</span>
            <span class="text-white/70 text-sm">Her Gün Açık</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .page-header {
    min-height: 30vh;
  }

  .page-header--large {
    min-height: 45vh;
  }

  @media (min-width: 1024px) {
    .page-header {
      min-height: 45vh;
    }

    .page-header--large {
      min-height: 60vh;
    }
  }
</style>
